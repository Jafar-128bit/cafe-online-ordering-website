"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[227],{6450:function(t,e,n){var a=n(9439),o=n(2791);e.Z=function(t,e,n){var c=(0,o.useState)(0),i=(0,a.Z)(c,2),_=i[0],r=i[1],s=(0,o.useState)(0),d=(0,a.Z)(s,2),l=d[0],u=d[1];return(0,o.useEffect)((function(){var a=n.filter((function(t){return e.map((function(t){return t.id})).includes(t.id)})),o=t.filter((function(t){return a.filter((function(t){return"on-Product"===t.type&&t.validProduct})).some((function(e){return e.validProduct.includes(t.id)}))})).map((function(t){return a.reduce((function(e,n){return n.validProduct&&n.validProduct.includes(t.id)?e+Math.ceil(t.totalPrice*n.discount/100):e}),0)})).reduce((function(t,e){return t+e}),0),c=a.filter((function(t){return"on-Purchase"===t.type})).reduce((function(e,n){var a=t.reduce((function(t,e){return t+e.totalPrice}),0);return n.purchaseLimit&&a>=n.purchaseLimit?Math.ceil(a*n.discount/100):0}),0);r(o+c),u(t.map((function(t){return t.totalPrice})).reduce((function(t,e){return t+e}),0))}),[t,e,n]),{discount:_,subTotal:l}}},1227:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var a=n(9439),o=n(2791);var c=n.p+"static/media/emptyCartIcon__Light__01.f9cd16d9a1ed3a296bda5239ae39384a.svg";var i=n.p+"static/media/emptyCartIcon__Dark__01.7a10af59252f564aa4e1b68a35241de3.svg",_=n(7689),r=n(9434),s=n(2399),d=n(6544),l=n(6450),u=n(3107),m=n(5705),p=n(8007),h=n(8946),f=n(1413),v=n(184),g=function(t){var e=t.width,n=void 0===e?50:e,a=t.height,o=void 0===a?50:a,c=t.loadingThickness,i=void 0===c?5:c,_=t.size,r=void 0===_?"full":_,s=t.color,d=void 0===s?"var(--colorWhite)":s,l={width:"".concat(n,"px"),height:"".concat(o,"px"),border:"".concat(i,"px solid ").concat(d),borderTop:"".concat(i,"px solid transparent")};return(0,v.jsx)("div",{className:"loading ".concat(r),children:(0,v.jsx)("div",{className:"loading__outer",style:(0,f.Z)({},l)})})},x=n(2132),I=n(7432),k=function(t){var e=t.id,n=t.productName,a=t.productImage,o=t.totalPrice,c=t.totalQuantity,i=t.subCategories,_=t.categories,r=t.isCustomizable,s=t.customizeOptions,d=t.dispatch,l=t.setItemToRemove,u=t.setTogglePopMessage,m=t.theme;return(0,v.jsxs)("div",{className:"cart__productInfo \n            ".concat("dark"===m?"cart__productInfo__dark":"cart__productInfo__light"),children:[(0,v.jsxs)("section",{className:"cart__productInfo__section01",children:[(0,v.jsx)("div",{className:"cart__productInfo__section01__imageContainer",children:(0,v.jsx)("img",{src:a,alt:n})}),(0,v.jsxs)("div",{className:"\n                    cart__productInfo__section01__infoContainer \n                    ".concat("dark"===m?"cart__productInfo__section01__infoContainer__dark":"cart__productInfo__section01__infoContainer__light"),children:[(0,v.jsx)("p",{className:"\n                        cart__productInfo__section01__infoContainer__productName \n                        ".concat("dark"===m?"cart__productInfo__section01__infoContainer__productName__dark":"cart__productInfo__section01__infoContainer__productName__light"),children:n}),(0,v.jsxs)("div",{className:"\n                        cart__productInfo__section01__infoContainer__productPrice \n                        ".concat("dark"===m?"cart__productInfo__section01__infoContainer__productPrice__dark":"cart__productInfo__section01__infoContainer__productPrice__light"),children:[(0,v.jsxs)("p",{children:["\u20b9",o,".00"]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("small",{children:"Total Quantity"})," ",c<10?"0".concat(c):c]})]})]})]}),r&&"cakes"!==_&&(0,v.jsx)("section",{className:"cart__productInfo__section02",children:i.map((function(t,e){return(0,v.jsxs)("div",{className:"\n                                cart__productInfo__section02__optionContainer ".concat("dark"===m?"cart__productInfo__section02__optionContainer__dark":"cart__productInfo__section02__optionContainer__light"),style:{height:"calc((95% / ".concat(i.length,") - 5px)")},children:[(0,v.jsx)("p",{children:t.title}),(0,v.jsxs)("p",{children:["Price \u20b9",t.price*(s[e].eatQuantity+s[e].packQuantity),".00"]}),(0,v.jsxs)("p",{children:["Quantity ",s[e].eatQuantity+s[e].packQuantity]})]},e+1)}))}),(0,v.jsxs)("section",{className:"cart__productInfo__section03",children:[r&&(0,v.jsx)("button",{type:"button",className:"cart__productInfo__section03__btn",onClick:function(){d((0,I.I)({isPopUpOpen:!0,popUpType:"orderCustomizationMenu",itemId:e}))},children:"Customize Your Order"}),(0,v.jsx)("button",{type:"button",className:"cart__productInfo__section03__btn closeType",onClick:function(){l({id:e,productName:n,productImage:a,price:o}),u(!0)},children:"Remove Your Order"})]})]})},j=n(5224),b={hide:{opacity:0,display:"none"},show:{opacity:1,display:"flex"}},C={hide:{opacity:0,scale:0},show:{opacity:1,scale:1}},N=function(t){var e=t.itemToRemove,n=t.dispatch,a=t.togglePopMessage,o=t.setTogglePopMessage,c=t.setItemToRemove,i=t.theme,_=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(n((0,j.h2)(e.id)),c(null),o(!1)):(c(null),o(!1))};return(0,v.jsxs)(s.E.section,{className:"cart__shade ".concat("dark"===i?"cart__shade__dark":"cart__shade__light"),variants:b,animate:a?"show":"hide",children:[(0,v.jsxs)(s.E.div,{className:"cart__removeItemPopup \n                    ".concat("dark"===i?"cart__removeItemPopup__dark":"cart__removeItemPopup__light"),variants:C,animate:a?"show":"hide",transition:{duration:.15},children:[(0,v.jsx)("h4",{className:"cart__removeItemCard__message \n                    ".concat("dark"===i?"cart__removeItemCard__message__dark":"cart__removeItemCard__message__light"),children:"Do you want to remove this item?"}),(0,v.jsxs)("div",{className:"cart__removeItemInfo",children:[(0,v.jsx)("div",{className:"cart__removeItemInfo__imageContainer \n                        ".concat("dark"===i?"cart__removeItemInfo__imageContainer__dark":"cart__removeItemInfo__imageContainer__light"),children:(0,v.jsx)("img",{src:null===e||void 0===e?void 0:e.productImage,alt:null===e||void 0===e?void 0:e.productName,width:"70px"})}),(0,v.jsxs)("div",{className:"cart__removeItemInfo__priceAndNameContainer",children:[(0,v.jsx)("p",{className:"cart__removeItemInfo__name \n                            ".concat("dark"===i?"cart__removeItemInfo__name__dark":"cart__removeItemInfo__name__light"),children:null===e||void 0===e?void 0:e.productName}),(0,v.jsxs)("p",{className:"cart__removeItemInfo__price \n                            ".concat("dark"===i?"cart__removeItemInfo__price__dark":"cart__removeItemInfo__price__light"),children:["Price \u20b9 ",null===e||void 0===e?void 0:e.price," only!"]})]})]})]}),(0,v.jsxs)(s.E.div,{className:"cart__removeItemBtnContainer",variants:C,animate:a?"show":"hide",transition:{duration:.15},children:[(0,v.jsx)("button",{className:"cart__removeItemBtn ".concat("dark"===i?"cart__removeItemBtn__dark":"cart__removeItemBtn__light"),type:"button",onClick:function(){return _(!0)},children:"Remove!"}),(0,v.jsx)("button",{className:"cart__removeItemBtn ".concat("dark"===i?"cart__removeItemBtn__dark":"cart__removeItemBtn__light"),type:"button",onClick:function(){return _(!1)},children:"Don't"})]})]})},y={initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeOut",duration:.2}}},P={show:{width:"80px",height:"32px",borderRadius:"var(--borderRadius1)"},hide:{width:"36px",height:"36px",borderRadius:"50%"}},T=p.Ry().shape({code:p.Z_().required("Apply").min(6,"Too Short").max(6,"Too Long")}),S=function(){var t=(0,r.I0)(),e=(0,_.s0)(),n=(0,r.v9)((function(t){return t.couponState.validCouponData[0]})),p=(0,r.v9)((function(t){return t.cartItems})),f=(0,r.v9)((function(t){return t.couponState.appliedCouponData})),I=(0,r.v9)((function(t){return t.themeSwitchSlices})).theme,j=(0,l.Z)(p,f,d.uD),b=j.discount,C=j.subTotal,S=(0,o.useState)(null),w=(0,a.Z)(S,2),M=w[0],R=w[1],B=(0,o.useState)(!1),D=(0,a.Z)(B,2),O=D[0],z=D[1],A=(0,o.useState)("ideal"),E=(0,a.Z)(A,2),Q=E[0],V=E[1],Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t((0,h.D1)({type:"ADD",appliedCouponData:e}))};(0,o.useEffect)((function(){t((0,u.U6)({State:!1}))}),[p,f,b,C,t]);var L=(0,m.TA)({initialValues:{code:""},validationSchema:T,onSubmit:function(t,e){var a=e.resetForm;V("checking"),setTimeout((function(){var t=n.find((function(t){return L.values.code.toUpperCase()===t.couponCode.toUpperCase()}));if(t&&(0,x.O)(t.endDate,!0))switch(t.type){case"on-Product":t.validProduct.some((function(t){return p.some((function(e){return e.id===t}))}))?(V("valid"),Z(t)):V("inValid");break;case"on-Purchase":if(t.purchaseLimit<=C)f.some((function(e){return t.type===e.type}))?V("inValid"):(V("valid"),Z(t));else V("inValid");break;default:V("inValid")}else V("inValid")}),2e3),setTimeout((function(){V("ideal"),a()}),2500)}});return(0,v.jsxs)(s.E.section,{className:"cart",variants:y,initial:"initial",animate:"animate",children:[(0,v.jsx)(N,{dispatch:t,itemToRemove:M,togglePopMessage:O,setTogglePopMessage:z,setItemToRemove:R,theme:I}),0!==p.length?(0,v.jsx)("section",{className:"cart__section02 noScroll",children:p.map((function(e,n){return(0,v.jsx)(k,{id:e.id,index:n,productName:e.productName,productImage:e.productImage,totalPrice:e.totalPrice,totalQuantity:e.totalQuantity,subCategories:e.subCategories,categories:e.categories,isCustomizable:e.isCustomizable,customizeOptions:e.customizeOptions,dispatch:t,setItemToRemove:R,setTogglePopMessage:z,theme:I},e.id)}))}):(0,v.jsxs)("div",{className:"cart__section02__message \n                            ".concat("dark"===I?"cart__section02__message__dark":"cart__section02__message__light"),children:[(0,v.jsx)(s.E.div,{className:"cart__section02__message__iconContainer",initial:{rotate:0},animate:{rotate:[0,5,-5,5,-5,0],transition:{ease:"easeInOut",duration:3,repeat:1/0}},children:(0,v.jsx)("img",{src:"dark"===I?i:c,alt:"empty cart icon"})}),(0,v.jsx)("p",{children:"Cart is Empty"})]}),0!==p.length&&(0,v.jsxs)("section",{className:"cart__section03",children:[(0,v.jsxs)("div",{className:"cart__section03__info__couponOption",children:[(0,v.jsxs)("div",{className:"cart__section03__info__couponOption__heading",children:[(0,v.jsx)("p",{className:"cart__section03__info__couponTitle \n                                    ".concat("dark"===I?"cart__section03__info__couponTitle__dark":"cart__section03__info__couponTitle__light"),children:"Apply Coupon"}),(0,v.jsx)("button",{className:"cart__section03__info__couponMenuBtn \n                                    ".concat("dark"===I?"cart__section03__info__couponMenuBtn__dark":"cart__section03__info__couponMenuBtn__light"),type:"button",onClick:function(){t((0,u.WR)({State:!1})),e("/cart/coupon")},children:"Show All"})]}),(0,v.jsxs)("form",{className:"cart__section03__info__couponInput \n                                ".concat("dark"===I?"cart__section03__info__couponInput__dark":"cart__section03__info__couponInput__light"),onSubmit:L.handleSubmit,children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter Code Here",id:"code",name:"code",onChange:L.handleChange,value:L.values.code}),(0,v.jsxs)(s.E.button,{type:"submit",className:L.errors.code||"inValid"===Q?"errorCouponInputBtn":"",variants:P,animate:"checking"===Q?"hide":"show",transition:{ease:"linear",duration:.2},children:[L.errors.code?L.errors.code:"ideal"===Q?"Apply":"checking"===Q?"":"valid"===Q?"Valid":"In Valid","checking"===Q&&(0,v.jsx)(g,{width:22,height:22,loadingThickness:3,size:"maxContent"})]})]})]}),(0,v.jsxs)("div",{className:"cart__section03__subtotal",children:[(0,v.jsx)("p",{className:"cart__section03__subtotal__title \n                                 ".concat("dark"===I?"cart__section03__subtotal__title__dark":"cart__section03__subtotal__title__light"),children:"Total Bill"}),(0,v.jsxs)("div",{className:"cart__section03__subtotal__amount__container \n                                ".concat("dark"===I?"cart__section03__subtotal__amount__container__dark":"cart__section03__subtotal__amount__container__light"),children:[(0,v.jsxs)("div",{className:"cart__section03__subtotal__amount \n                                    ".concat("dark"===I?"cart__section03__subtotal__amount__dark":"cart__section03__subtotal__amount__light"),children:[(0,v.jsx)("p",{children:"Subtotal"}),(0,v.jsxs)("p",{children:["\u20b9",C]})]}),(0,v.jsxs)("div",{className:"cart__section03__subtotal__amount \n                                    ".concat("dark"===I?"cart__section03__subtotal__amount__dark":"cart__section03__subtotal__amount__light"),children:[(0,v.jsx)("p",{children:"Coupon Discounts"}),(0,v.jsxs)("p",{children:["-\u20b9",b]})]}),(0,v.jsxs)("div",{className:"cart__section03__subtotal__amount \n                                    ".concat("dark"===I?"cart__section03__subtotal__amount__dark":"cart__section03__subtotal__amount__light"),children:[(0,v.jsx)("p",{children:"Tax and Service Fees"}),(0,v.jsxs)("p",{children:["+\u20b9",Math.floor(.015*C)]})]}),(0,v.jsxs)("div",{className:"cart__section03__subtotal__amount \n                                    ".concat("dark"===I?"cart__section03__subtotal__amount__dark":"cart__section03__subtotal__amount__light"),children:[(0,v.jsx)("p",{children:"Total Amount"}),(0,v.jsxs)("p",{children:["\u20b9",C+10-b]})]})]})]})]}),0!==p.length&&(0,v.jsxs)("div",{className:"cart__subtotal__totalAmount",children:[(0,v.jsxs)("p",{children:["Total Amount \u20b9",C+10-b]}),(0,v.jsx)("button",{type:"button",onClick:function(){return e("/payment")},children:"Place Order"})]})]})}}}]);
//# sourceMappingURL=227.5c675e62.chunk.js.map