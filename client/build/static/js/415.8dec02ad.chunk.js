"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[415],{7462:function(e,n,a){a.d(n,{Z:function(){return i}});var t=a(1413),r=a(184),i=function(e){var n=e.width,a=void 0===n?50:n,i=e.height,o=void 0===i?50:i,l=e.loadingThickness,c=void 0===l?5:l,u=e.size,s=void 0===u?"full":u,d=e.color,m=void 0===d?"var(--colorWhite)":d,h={width:"".concat(a,"px"),height:"".concat(o,"px"),border:"".concat(c,"px solid ").concat(m),borderTop:"".concat(c,"px solid transparent")};return(0,r.jsx)("div",{className:"loading ".concat(s),children:(0,r.jsx)("div",{className:"loading__outer",style:(0,t.Z)({},h)})})}},6450:function(e,n,a){var t=a(9439),r=a(2791);n.Z=function(e,n,a){var i=(0,r.useState)(0),o=(0,t.Z)(i,2),l=o[0],c=o[1],u=(0,r.useState)(0),s=(0,t.Z)(u,2),d=s[0],m=s[1];return(0,r.useEffect)((function(){var t=a.filter((function(e){return n.map((function(e){return e.id})).includes(e.id)})),r=e.filter((function(e){return t.filter((function(e){return"on-Product"===e.type&&e.validProduct})).some((function(n){return n.validProduct.includes(e.id)}))})).map((function(e){return t.reduce((function(n,a){return a.validProduct&&a.validProduct.includes(e.id)?n+Math.ceil(e.totalPrice*a.discount/100):n}),0)})).reduce((function(e,n){return e+n}),0),i=t.filter((function(e){return"on-Purchase"===e.type})).reduce((function(n,a){var t=e.reduce((function(e,n){return e+n.totalPrice}),0);return a.purchaseLimit&&t>=a.purchaseLimit?Math.ceil(t*a.discount/100):0}),0);c(r+i),m(e.map((function(e){return e.totalPrice})).reduce((function(e,n){return e+n}),0))}),[e,n,a]),{discount:l,subTotal:d}}},5415:function(e,n,a){a.r(n),a.d(n,{default:function(){return x}});var t=a(1413),r=a(9439),i=a(7689),o=a(9434),l=a(6649),c=a(8007),u=a(5705),s=a(6450),d=a(6544),m=a(2791),h=a(7462),_=a(3107),p=a(184),f=c.Ry().shape({firstName:c.Z_().required("First Name Required").min(3,"Too Short!").max(15,"Too Long!"),lastName:c.Z_().required("Last Name Required").min(3,"Too Short!").max(15,"Too Long!"),number:c.Z_().required("Number Required").matches(/^\d+$/,"Invalid Phone Number").length(10,"Must be 10 characters"),email:c.Z_().required("Email Required").email("Invalid email address")}),v=function(e){var n=e.handleBack,a=e.formikPaymentInfo,t=e.paymentInputData,r=e.loading;return(0,p.jsxs)("section",{className:"payment__info",children:[(0,p.jsx)("h2",{className:"payment__info__title",children:"Payment Info"}),(0,p.jsx)("div",{className:"payment__info__errorContainer",children:t.map((function(e,n){return(0,p.jsx)("p",{children:e.validation&&e.touched?"*".concat(e.validation):null},n)}))}),(0,p.jsxs)("form",{className:"payment__info__form",onSubmit:function(e){e.preventDefault(),a.handleSubmit()},children:[t.map((function(e){return(0,p.jsxs)("div",{className:"payment__info__inputComponent",children:[(0,p.jsx)("label",{htmlFor:e.id,children:e.label}),(0,p.jsx)("input",{id:e.id,name:e.name,type:e.type,placeholder:e.placeholder,onBlur:e.blurEvent,onChange:e.onChange,value:e.value,required:!0})]},e.key)})),(0,p.jsxs)("div",{className:"payment__info__form__btnContainer",children:[(0,p.jsx)("button",{type:"button",className:"payment__info__form__btnCancel",onClick:n,children:"cancel"}),(0,p.jsx)("button",{type:"submit",className:"payment__info__form__btnSubmit",children:r?(0,p.jsx)(h.Z,{width:20,height:20,size:"maxContent",loadingThickness:3,color:"var(--colorWhite)"}):"Submit"})]})]})]})},y=function(e){var n=e.subtotal,a=e.totalQuantity,t=e.discountPrice,r=e.taxAndFees,i=e.orderTotal,o=e.isPay,l=e.handlePay;return(0,p.jsxs)("section",{className:"payment__review",children:[(0,p.jsx)("button",{type:"button",className:"payment__review__btnPay \n                    ".concat(o?"payment__review__btnPay__enabled":"payment__review__btnPay__disabled"),onClick:l,children:o?"Pay":"Submit the form!"}),(0,p.jsx)("p",{className:"payment__review__agreement",children:"By placing your order, you agree to our company Privacy policy and Conditions of use."}),(0,p.jsx)("div",{className:"payment__separator"}),(0,p.jsx)("h4",{className:"payment__review__orderSummary__title",children:"Order Summary"}),(0,p.jsxs)("div",{className:"payment__review__orderSummaryContainer",children:[(0,p.jsx)("p",{children:"Items (".concat(a,")")}),(0,p.jsx)("p",{children:n})]}),(0,p.jsxs)("div",{className:"payment__review__orderSummaryContainer",children:[(0,p.jsx)("p",{children:"Discount"}),(0,p.jsxs)("p",{children:["-",t]})]}),(0,p.jsxs)("div",{className:"payment__review__orderSummaryContainer",children:[(0,p.jsx)("p",{children:"Before tax:"}),(0,p.jsx)("p",{children:n-t})]}),(0,p.jsxs)("div",{className:"payment__review__orderSummaryContainer",children:[(0,p.jsx)("p",{children:"Tax Collected:"}),(0,p.jsxs)("p",{children:["+",r]})]}),(0,p.jsx)("div",{className:"payment__separator"}),(0,p.jsxs)("div",{className:"payment__review__orderTotal",children:[(0,p.jsx)("p",{children:"Order Total:"}),(0,p.jsx)("p",{children:i})]})]})},x=function(){var e=(0,o.I0)(),n=(0,i.s0)(),a=(0,m.useState)(0),c=(0,r.Z)(a,2),h=c[0],x=c[1],b=(0,m.useState)(!1),N=(0,r.Z)(b,2),j=N[0],C=N[1],P=(0,m.useState)(!1),g=(0,r.Z)(P,2),S=g[0],k=g[1],w=(0,o.v9)((function(e){return e.cartItems})),T=(0,o.v9)((function(e){return e.couponState.appliedCouponData})),Z=(0,s.Z)(w,T,d.uD),E=Z.discount,I=Z.subTotal,q=Math.floor(.015*I),B=I-E+q;(0,o.v9)((function(e){return e.themeSwitchSlices})).theme;(0,m.useEffect)((function(){e((0,_.U6)({State:!1})),x(w.map((function(e){return e.totalQuantity})).reduce((function(e,n){return e+n}),0))}),[w,e]);var L=(0,u.TA)({initialValues:{firstName:"",lastName:"",number:"",email:""},validationSchema:f,onSubmit:function(n){C(!0),setTimeout((function(){e((0,l.L)((0,t.Z)({},n))),k(!0),C(!1)}),1e3)}}),D=[{key:1,id:"firstName",name:"firstName",type:"text",placeholder:"Ex. John",label:"First Name",onChange:L.handleChange,value:L.values.firstName,validation:L.errors.firstName,blurEvent:L.handleBlur,touched:L.touched.firstName},{key:2,id:"lastName",name:"lastName",type:"text",placeholder:"Ex. Watson",label:"Last Name",onChange:L.handleChange,value:L.values.lastName,validation:L.errors.lastName,blurEvent:L.handleBlur,touched:L.touched.lastName},{key:3,id:"number",name:"number",type:"text",placeholder:"Ex. 123 456 7890 (No Country Code)",label:"Phone Number",onChange:L.handleChange,value:L.values.number,validation:L.errors.number,blurEvent:L.handleBlur,touched:L.touched.number},{key:4,id:"email",name:"email",type:"email",placeholder:"Ex. johnwatson99@email.com",label:"Email",onChange:L.handleChange,value:L.values.email,validation:L.errors.email,blurEvent:L.handleBlur,touched:L.touched.email}];return(0,p.jsxs)("section",{className:"payment noScroll",children:[(0,p.jsx)(v,{handleBack:function(){e((0,l.L)({email:"",firstName:"",foodPack:"",lastName:"",number:""})),n("/cart")},formikPaymentInfo:L,paymentInputData:D,loading:j}),(0,p.jsx)(y,{subtotal:I,totalQuantity:h,discountPrice:E,taxAndFees:q,orderTotal:B,isPay:S,handlePay:function(){if(!S)return-1;n("/pay")}})]})}}}]);
//# sourceMappingURL=415.8dec02ad.chunk.js.map